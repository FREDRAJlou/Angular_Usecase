<p-toast position="top-right"></p-toast>
<div>
    <p-panel class="empty" header="Enter Passenger count">
      
         <div class="p-inputgroup">
             <span class="p-inputgroup-addon">No of Passengers :</span>
             <p-inputNumber (onInput)="onChangeCount()"   [(ngModel)]="count" [showButtons]="true" mode="decimal" [min]="1" [max]="4">      
                </p-inputNumber>
     </div>
     </p-panel>
    <p-table [value]="ticket.passengers" dataKey="pass.name" >
        <ng-template pTemplate="caption">
            <div class="p-d-flex p-ai-center p-jc-between" style="text-align: center">
                Add Passenger Details
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th>S.No.</th>
                <th>Name</th>
                <th>Age</th>
                <th>Phone</th>
                <th>Meal Preference</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-pass>
            <tr >
                <td >{{pass.id}} </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="pass.name">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{pass.name }}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <p-inputNumber [(ngModel)]="pass.age" [min]="1" [max]="100" [showButtons]="true"></p-inputNumber>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{pass.age}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <p-inputNumber [(ngModel)]="pass.phone" [useGrouping]="false" [min]="0" [max]="9999999999"></p-inputNumber>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{pass.phone}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <p-dropdown [options]="meals" [(ngModel)]="pass.meal"  optionValue="name" optionLabel="name"></p-dropdown>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{pass.meal}}
                        </ng-template>
                    </p-cellEditor>
                </td>
            </tr>
        </ng-template>
      </p-table>
      <p-panel  header="Enter Discount Code">
      <div class="p-grid p-fluid">
        <div class="p-col-12 p-md-4">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Discount code :</span>
                <input type="text" maxlength="8" pInputText [(ngModel)]="discount" value="{{discount | uppercase}}" placeholder="code">         
            </div>
        </div>

        <div class="p-col-12 p-md-4">
            <div class="p-inputgroup">
                <p-button label="Apply"  (onClick)="applyDiscount()"></p-button>
            </div>
        </div>
     
        <div class="p-col-12 p-md-4">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Total Price :</span>
                <p-inputNumber [(ngModel)]="totalPrice"  currency="INR" locale="en-IN" mode="currency"  [disabled]="true"></p-inputNumber>
            </div>
        </div>
        
        </div>
        <ng-template style="float:center" pTemplate="footer">
<p-button label="Check Out"  (onClick)="checkout()"></p-button>
</ng-template>
    </p-panel>   
   
</div>
